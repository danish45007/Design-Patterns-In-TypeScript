<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="627" height="452" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-04-27T08:46:47.583Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36 Edg/90.0.818.46&quot; etag=&quot;LZgeXGLnfsKMgkgVAggB&quot; version=&quot;14.6.6&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;ZN-PubUaRz3g8XqJeI6r&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" version="1.1" viewBox="-0.5 -0.5 627 452"><defs><clipPath id="mx-clip-264-189-152-26-0"><rect width="152" height="26" x="264" y="189"/></clipPath><clipPath id="mx-clip-464-184-157-46-0"><rect width="157" height="46" x="464" y="184"/></clipPath><clipPath id="mx-clip-4-131-212-44-0"><rect width="212" height="44" x="4" y="131"/></clipPath><clipPath id="mx-clip-4-183-212-92-0"><rect width="212" height="92" x="4" y="183"/></clipPath><clipPath id="mx-clip-264-301-152-26-0"><rect width="152" height="26" x="264" y="301"/></clipPath><clipPath id="mx-clip-264-335-152-40-0"><rect width="152" height="40" x="264" y="335"/></clipPath><clipPath id="mx-clip-264-31-152-26-0"><rect width="152" height="26" x="264" y="31"/></clipPath><clipPath id="mx-clip-264-65-152-40-0"><rect width="152" height="40" x="264" y="65"/></clipPath></defs><g><rect width="160" height="50" x="260" y="400" fill="#fff" stroke="#000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow:visible;text-align:left" width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:158px;height:1px;padding-top:425px;margin-left:261px"><div style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;word-wrap:normal">Client Application</div></div></div></foreignObject><text x="340" y="429" fill="#000" font-family="Helvetica" font-size="12" text-anchor="middle">Client Application</text></switch></g><path fill="none" stroke="#000" stroke-dasharray="3 3" stroke-miterlimit="10" d="M 340 100 L 340 135.88" pointer-events="stroke"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 340 148.88 L 333.5 135.88 L 346.5 135.88 Z" pointer-events="all"/><path fill="none" stroke="#000" stroke-dasharray="3 3" stroke-miterlimit="10" d="M 340 270 L 340 224.12" pointer-events="stroke"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 340 211.12 L 346.5 224.12 L 333.5 224.12 Z" pointer-events="all"/><path fill="#fff" stroke="#000" stroke-miterlimit="10" d="M 260 176 L 260 150 L 420 150 L 420 176" pointer-events="all"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 260 176 L 260 210 L 420 210 L 420 176" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 260 176 L 420 176" pointer-events="none"/><g fill="#000" font-family="Helvetica" font-size="12" font-weight="bold" pointer-events="none" text-anchor="middle"><text x="339.5" y="167.5">ISwitchCommand</text></g><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 260 180 L 420 180" pointer-events="none"/><g fill="#000" clip-path="url(#mx-clip-264-189-152-26-0)" font-family="Helvetica" font-size="12" pointer-events="none"><text x="265.5" y="201.5">+ execute(): void</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" d="M 460 171 L 460 145 L 625 145 L 625 171" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 460 171 L 460 225 L 625 225 L 625 171" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 460 171 L 625 171" pointer-events="none"/><g fill="#000" font-family="Helvetica" font-size="12" font-weight="bold" pointer-events="none" text-anchor="middle"><text x="542" y="162.5">Light</text></g><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 460 175 L 625 175" pointer-events="none"/><g fill="#000" clip-path="url(#mx-clip-464-184-157-46-0)" font-family="Helvetica" font-size="12" pointer-events="none"><text x="465.5" y="196.5">+ turnOn(): void</text><text x="465.5" y="210.5">+ turnOff(): void</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" d="M 0 126 L 0 100 L 220 100 L 220 126" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 0 126 L 0 270 L 220 270 L 220 126" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 0 126 L 220 126" pointer-events="none"/><g fill="#000" font-family="Helvetica" font-size="12" font-weight="bold" pointer-events="none" text-anchor="middle"><text x="109.5" y="117.5">Switch</text></g><g fill="#000" clip-path="url(#mx-clip-4-131-212-44-0)" font-family="Helvetica" font-size="12" pointer-events="none"><text x="5.5" y="143.5">- commands: { [id: string]: ICommand }</text><text x="5.5" y="157.5">- history: [number, string][]</text></g><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 0 174 L 220 174" pointer-events="none"/><g fill="#000" clip-path="url(#mx-clip-4-183-212-92-0)" font-family="Helvetica" font-size="12" pointer-events="none"><text x="5.5" y="195.5">+ constructor()</text><text x="5.5" y="209.5">+ register(string, ICommand): void</text><text x="5.5" y="223.5">+ execute(string): void</text><text x="5.5" y="237.5">+ showHistory(): void</text><text x="5.5" y="251.5">+ replayLast(number): void</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" d="M 260 296 L 260 270 L 420 270 L 420 296" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 260 296 L 260 370 L 420 370 L 420 296" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 260 296 L 420 296" pointer-events="none"/><g fill="#000" font-family="Helvetica" font-size="12" font-weight="bold" pointer-events="none" text-anchor="middle"><text x="339.5" y="287.5">SwitchOffCommand</text></g><g fill="#000" clip-path="url(#mx-clip-264-301-152-26-0)" font-family="Helvetica" font-size="12" pointer-events="none"><text x="265.5" y="313.5">- receiver: Light</text></g><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 260 326 L 420 326" pointer-events="none"/><g fill="#000" clip-path="url(#mx-clip-264-335-152-40-0)" font-family="Helvetica" font-size="12" pointer-events="none"><text x="265.5" y="347.5">+ constructor(Light): void</text><text x="265.5" y="361.5">+ execute(): void</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" d="M 260 26 L 260 0 L 420 0 L 420 26" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 260 26 L 260 100 L 420 100 L 420 26" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 260 26 L 420 26" pointer-events="none"/><g fill="#000" font-family="Helvetica" font-size="12" font-weight="bold" pointer-events="none" text-anchor="middle"><text x="339.5" y="17.5">SwitchOnCommand</text></g><g fill="#000" clip-path="url(#mx-clip-264-31-152-26-0)" font-family="Helvetica" font-size="12" pointer-events="none"><text x="265.5" y="43.5">- receiver: Light</text></g><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 260 56 L 420 56" pointer-events="none"/><g fill="#000" clip-path="url(#mx-clip-264-65-152-40-0)" font-family="Helvetica" font-size="12" pointer-events="none"><text x="265.5" y="77.5">+ constructor(Light): void</text><text x="265.5" y="91.5">+ execute(): void</text></g><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 458.52 226.17 L 429.05 259.7" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 455.56 239.39 L 459.26 225.33 L 445.8 230.81" pointer-events="none"/><path fill="#000" stroke="#000" stroke-miterlimit="10" d="M 420.47 269.47 L 419.88 260.3 L 429.05 259.7 L 429.64 268.88 Z" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 458.51 143.33 L 428.35 109.69" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 445.74 138.83 L 459.25 144.17 L 455.42 130.15" pointer-events="none"/><path fill="#000" stroke="#000" stroke-miterlimit="10" d="M 419.67 100.01 L 428.85 100.51 L 428.35 109.69 L 419.17 109.19 Z" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 170.58 271.83 L 252.16 388.76" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 182.71 277.86 L 169.94 270.92 L 172.05 285.3" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 259.6 399.42 L 250.55 397.81 L 252.16 388.76 L 261.21 390.37 Z" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 518.6 226.94 L 426.79 388.09" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 518.37 240.48 L 519.16 225.97 L 507.07 234.05" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 420.35 399.39 L 417.92 390.52 L 426.79 388.09 L 429.22 396.96 Z" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 256.96 99.51 L 233.71 99.82" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 245.17 106.17 L 258.08 99.49 L 245 93.17" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 220.71 99.99 L 227.12 93.4 L 233.71 99.82 L 227.29 106.4 Z" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 257.76 269.97 L 232.83 269.63" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 245.8 276.31 L 258.88 269.98 L 245.97 263.31" pointer-events="none"/><path fill="none" stroke="#000" stroke-miterlimit="10" d="M 219.83 269.46 L 226.41 263.05 L 232.83 269.63 L 226.24 276.04 Z" pointer-events="none"/></g></svg>